<!DOCTYPE html>
<html>

  <head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" integrity="sha384-nU14brUcp6StFntEOOEBvcJm4huWjB0OcIeQ3fltAfSmuZFrkAif0T+UtNGlKKQv" crossorigin="anonymous">
  </head>

  <body class="m-3">
    <script>
      function cambiarClase() {
        let serviColor = document.getElementById("servicio");
        let valor = serviColor.value;
        let claseNueva;

        switch (valor) {
          case "excelente":
            claseNueva = "btn-success";
            break;
          case "regular":
            claseNueva = "btn-warning";
            break;
          case "malo":
            claseNueva = "btn-danger";
            break;
        }

        serviColor.className = "btn " + claseNueva + " dropdown-toggle";
      }

    </script>
    <script>
      function calcularPropina() {

        let servi = document.getElementById("servicio").value;
        let pers = document.getElementById("personas").value;
        let cuenta = document.getElementById("cuenta").value;
        let propina;
        let porcentaje;

        if (confirm("estas seguro?") == true) {
          if (servi === "excelente") {
            porcentaje = 0.1;

          } else if (servi === "regular") {
            porcentaje = 0.05;
          } else {
            porcentaje = 0;
            propina = 0.5;
            document.getElementById("propina ").innerHTML.value = propina;
            return propina;
          }

          if (servi === "excelente" || servi === "regular") {
            propina = (porcentaje * cuenta) / pers;
            document.getElementById("resultado").innerHTML = "Propina por persona: " + propina + " euros";
            let clase = document.getElementById("resultado");
            clase.className = "p-3 bg-info bg-opacity-10 border border-info rounded";
            return propina;
          }

        } else {
          return false;
        }


      }

    </script>
    <div class="col-2 mx-auto p-2 border border-4 rounded p-4">
      <h1 class="text-body-secondary">
        Calculadora de propinas
      </h1>
      <form id="calculator-form">
        <label for="num-comensales">Personas:</label>
        <input class="form-control" type="number" id="personas" name="personas" required>
        <label for="total-cuenta">Total factura:</label>
        <input class="form-control" type="number" id="cuenta" name="totalCuenta" required>
        </br>
        <label for="servicio">Calificaci√≥n del Servicio:</label>
        <select id="servicio" name="servicio" class="btn btn-success dropdown-toggle" required onchange="cambiarClase()">
          <option value="excelente" class="dropdown-item">Excelente</option>
          <option value="regular" class="dropdown-item">Regular</option>
          <option value="malo" class="dropdown-item">Malo</option>
        </select>
      </form>
      </br>
      <button type="button" onclick="calcularPropina()" class="btn btn-primary">Calcular Propina</button>
      </br>
      </br>
      <div id="resultado" class="mx-auto p-2" </div>
        </form>

      </div>

  </body>

</html>
